{% extends "base.html" %}

{% block title %}P√°gina Inicial - FofoTech{% endblock %}

{% block styles %}
    {{ super() }}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/inicio.css') }}">
{% endblock %}

{% block content %}
<div class="inicio-container">
    {# Header com boas-vindas #}
    <header class="inicio-header">
        <h1>Ol√°, {{ primeiro_nome }}!</h1>
        <p>Gerencie Seus Projetos e Tarefas de Forma Simples</p>
    </header>

    {# Se√ß√£o de projetos #}
    <section class="projetos-section">
        <div class="section-header">
            <div class="section-left">
                <h2>Meus Projetos</h2>
            </div>
            <span class="projetos-count">{{ projetos|length }} projeto(s)</span>
        </div>

        {% if not projetos %}
        {# Estado vazio - quando n√£o h√° projetos #}
        <div class="empty-state">
            <div class="empty-icon">üìÅ</div>
            <h3>Nenhum Projeto Encontrado</h3><br>
            <p>Crie seu primeiro projeto</p><br>

            <a href="{{ url_for('work.criar_projeto') }}" class="btn btn-primary">
                Criar Primeiro Projeto
            </a>
        </div>
        {% else %}
        {# Grid de cards dos projetos #}
        <div class="projetos-grid">
            {% for projeto in projetos %}
            <div class="projeto-card" onclick="abrirProjeto({{ projeto.id_projeto }})">
                <div class="card-header">
                    <h3 class="projeto-titulo">{{ projeto.nome }}</h3>
                    <span class="projeto-status status-ativo">Ativo</span>
                </div>
                
                <div class="card-body">
                    {% if projeto.descricao %}
                    <p class="projeto-descricao">
                        {{ projeto.descricao[:120] }}{% if projeto.descricao|length > 120 %}...{% endif %}
                    </p>
                    {% else %}
                    <p class="projeto-descricao sem-descricao">
                        Nenhuma Descri√ß√£o Fornecida
                    </p>
                    {% endif %}
                    
                    <div class="projeto-meta">
                        <div class="meta-item">
                            <span class="meta-label">üë§ Criador:</span>
                            <span class="meta-value">{{ projeto.criador_nome }}</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">üìÖ Criado em:</span>
                            <span class="meta-value">{{ projeto.data_criacao.strftime('%d/%m/%Y') }}</span>
                        </div>
                    </div>
                </div>
                
                <div class="card-footer">
                    <button class="btn btn-sm btn-outline" onclick="event.stopPropagation(); abrirProjeto({{ projeto.id_projeto }})">
                        üîç Ver Projeto
                    </button>
                    {% if projeto.eh_criador == 1 %}
                    <span class="badge-criador">administrador(a)</span>
                    {% else %}
                    <span class="badge-membro">Membro(a)</span>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
        {% endif %}
    </section>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/inicio.js') }}"></script>
{% endblock %}
